<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <title>Registration Form </title>
    <link rel="stylesheet" href="scopy.css">
    <link rel="stylesheet" href="style1.css">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
   </head>
<body>
  <div class="container">
    <div class="title">Registration</div>
    <div class="content">
      <form action="https://sheetdb.io/api/v1/9lzmjgly6qgxy" method="post" id="sheetdb-form"">
        <div class="user-details">
          <div class="input-box">
            <span class="details">Full Name</span>
            <input type="text" placeholder="Enter your name" name="data[fname]" required>
          </div>
          <div class="input-box">
            <span class="details">Username</span>
            <input type="text" placeholder="Enter your username" name="data[username]" required>
          </div>
          <div class="input-box">
            <span class="details">Email</span>
            <input type="text" placeholder="Enter your email" name="data[email]" required>
          </div>
          <div class="input-box">
            <span class="details">Phone Number</span>
            <input type="text" placeholder="Enter your number" name="data[phone]" required>
          </div>
          <div class="input-box">
            <input id="create_pw" type="password" name="data[password]" required>
            <label>Create password</label>
          </div>
          <div class="input-box">
            <input id="confirm_pw" type="password" required disabled>
            <label>Confirm password</label>
            <i class="fas fa-eye-slash show"></i>
          </div>
          <br>
          <div class="alert">
            <i class="fas fa-exclamation-circle error"></i>
            <span class="text">Enter at least 8 characters</span>
          </div>
          <div class="input-box button">
            <input id="button" type="button" value="Check" disabled>
          </div>
      
      <script>
      const createPw = document.querySelector("#create_pw"),
       confirmPw = document.querySelector("#confirm_pw"),
       pwShow = document.querySelector(".show"),
       alertIcon = document.querySelector(".error"),
       alertText= document.querySelector(".text"),
       submitBtn = document.querySelector("#button");
       pwShow.addEventListener("click", ()=>{
         if((createPw.type === "password") && (confirmPw.type === "password")){
           createPw.type = "text";
           confirmPw.type = "text";
           pwShow.classList.replace("fa-eye-slash","fa-eye");
         }else {
           createPw.type = "password";
           confirmPw.type = "password";
           pwShow.classList.replace("fa-eye","fa-eye-slash");
         }
       });
       createPw.addEventListener("input", ()=>{
         let val = createPw.value.trim()
         if(val.length >= 8){
           confirmPw.removeAttribute("disabled");
           submitBtn.removeAttribute("disabled");
           submitBtn.classList.add("active");
         }else {
           confirmPw.setAttribute("disabled", true);
           submitBtn.setAttribute("disabled", true);
           submitBtn.classList.remove("active");
           confirmPw.value = "";
           alertText.style.color = "#a6a6a6";
           alertText.innerText = "Enter at least 8 characters";
           alertIcon.style.display = "none";
         }
       });
      submitBtn.addEventListener("click", ()=>{
       if(createPw.value === confirmPw.value){
         alertText.innerText = "Password matched";
         alertIcon.style.display = "none";
         alertText.style.color = "#4070F4";
       }else {
         alertText.innerText = "Password didn't matched";
         alertIcon.style.display = "block";
         alertText.style.color = "#D93025";
       }
      });
      </script>
        <div class="gender-details">
          <input type="radio" name="data[gender]" id="dot-1">
          <input type="radio" name="data[gender]" id="dot-2">
          <input type="radio" name="data[gender]" id="dot-3">
          <span class="gender-title">Gender</span>
          <div class="category">
            <label for="dot-1">
            <span class="dot one"></span>
            <span class="gender">Male</span>
          </label>
          <label for="dot-2">
            <span class="dot two"></span>
            <span class="gender">Female</span>
          </label>
          <label for="dot-3">
            <span class="dot three"></span>
            <span class="gender">Others</span>
            </label>
          </div>
        </div>  
        <div class="button">
          <input type="submit" value="Register">
        </div>
      </form>
         <script>
            var form = document.getElementById('sheetdb-form');
         form.addEventListener("submit", e => {
          e.preventDefault();
          fetch(form.action, {
              method : "POST",
              body: new FormData(document.getElementById("sheetdb-form")),
          }).then(
              response => response.json()
          ).then((html) => {
            // you can put any JS code here
            window.open('enigma_5.html','_blank');

          });
        });
          </script>
    </div>
  </div>

</body>
</html>